<ion-header>

  <ion-navbar>
  	<button ion-button icon-only menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{ 'FEED_TITLE' | translate }}</ion-title>
    <ion-buttons end>
      <button end ion-button icon-only (click)="openFollowing()"
        [tooltip]="'FEED_TOOLTIP_FOLLOWING' | translate" event="press" navTooltip>
       <ion-icon name="people"></ion-icon>
     </button>
   </ion-buttons>
 </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-refresher (ionRefresh)="refresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-list>
    <ion-item *ngFor="let item of feed" (press)="handlePress(item,$event)" (click)="handleClick(item,$event)">

      <ion-avatar large *ngIf="!item.story">
        <ion-img [src]="item.author.picture + '_default.jpg'"></ion-img>
      </ion-avatar>
      <p>
        <a (click)="openAuthor(item.author, $event)">{{item.author.name}}</a>
        <ng-container *ngIf="!item.story">{{ 'FEED_EDITED' | translate }} {{item.text.join(', ')}}</ng-container>
      </p>

      <h2 *ngIf="item.story">{{item.story.title}}</h2>
      <p>{{item.timestamp*1000 | date}}</p>
      
    </ion-item>
  </ion-list>

  <ion-infinite-scroll [enabled]="enableInfinite" (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>
