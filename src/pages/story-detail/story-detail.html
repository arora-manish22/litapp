<ion-header>

  <ion-navbar>
    <ion-title>{{story.title}}</ion-title>
    <ion-buttons end>
      <button end ion-button icon-only (click)="download()"
        [tooltip]="'STORYDETAIL_TOOLTIP_DOWNLOAD' | translate" event="press" navTooltip>
       <ion-icon [name]="story.downloaded ? 'remove-circle' : 'download'" (click)="download()"></ion-icon>
     </button>
   </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  
  <p>{{story.description}}</p>

  <p><a (click)="showSeries()">{{'STORYDETAIL_SERIES' | translate }}</a></p>
  <p><a (click)="showRelated()">{{'STORYDETAIL_RELATED' | translate }}</a></p>

  <h2>{{'DETAILS' | translate}}</h2>
  <p><strong>{{'AUTHOR' | translate}}: </strong> <a (click)="showAuthor(story.author)">{{story.author.name}}</a></p>
  <p><strong>{{'CATEGORY' | translate}}: </strong> <a (click)="search(story.category)">{{story.category}}</a></p>

  <p class="tags" *ngIf="story.tags.length > 0">
    <strong>{{'TAGS' | translate}}: </strong>
    <a *ngFor="let tag of story.tags" (click)="search(tag)">#{{tag}} </a>
  </p>

  <p><strong>{{'RATING' | translate}}: </strong> {{story.rating}}</p>
  <p><strong>{{'LENGTH' | translate}}: </strong> {{story.length}} {{'PAGES' | translate}}</p>
  <p><strong>{{'TIMESTAMP' | translate}}: </strong> {{story.timestamp}}</p>

  <h3>{{'STORYDETAIL_RATETITLE' | translate }}</h3>
  <form (submit)="rate($event)" class="rate">
    <ion-range [(ngModel)]="story.myrating" name="myrating" snaps="true" step="1" min="0" max="5" pin="true"></ion-range>
    <button ion-button outline>{{'STORYDETAIL_RATE' | translate }}</button>
  </form>

  <h2>{{'COMMENTS' | translate}}</h2>
  <ion-list class="comments">
  	<ion-item *ngFor="let comment of story.comments">
  		<h3>{{comment.user}}</h3>
  		<h6>{{comment.timestamp}}</h6>
  		<p>{{comment.text}}</p>
  	</ion-item>
  </ion-list>

</ion-content>
